{
  "projectName": "Brain Dump",
  "projectPath": "/Users/salman.rana/code/brain-dump",
  "testingRequirements": [
    "Tests must validate user-facing behavior, not implementation details",
    "Focus on what users actually do - integration tests over unit tests",
    "Don't mock excessively - test real behavior where possible",
    "Coverage metrics are meaningless - user flow coverage is everything"
  ],
  "userStories": [
    {
      "id": "b3faf222-ba21-4df1-a322-d2baba258bc7",
      "title": "75 - Create ticket detail route",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Route at `/ticket/:id`",
        "Loads ticket by ID from URL param",
        "Full page layout (not modal)",
        "Includes header, description, subtasks, activity",
        "Error state for invalid ticket ID",
        "Loading skeleton while fetching",
        "Navigate to /ticket/123",
        "Ticket data loads"
      ],
      "references": [
        "src/routes/ticket.$id.tsx"
      ],
      "description": "Create the dedicated ticket detail page route.\n\n**Files to Create:**\n- `src/routes/ticket.$id.tsx`\n\n**Acceptance Criteria:**\n- [ ] Route at `/ticket/:id`\n- [ ] Loads ticket by ID from URL param\n- [ ] Full page layout (not modal)\n- [ ] Includes header, description, subtasks, activity\n- [ ] Error state for invalid ticket ID\n- [ ] Loading skeleton while fetching\n\n**Layout:**\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ â† Back to Board                                             â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Implement user authentication              [Edit] [Start]   â”‚\nâ”‚ Status: In Progress  Priority: High  Epic: Auth            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Description                     â”‚ Subtasks (2/4)           â”‚\nâ”‚ Add login/logout...             â”‚ â˜‘ Database schema        â”‚\nâ”‚                                 â”‚ â˜‘ API endpoints          â”‚\nâ”‚                                 â”‚ â˜ UI components          â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Activity                        â”‚ Related Tickets          â”‚\nâ”‚ [Full timeline...]              â”‚ [Same epic tickets...]   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**E2E Tests:**\n- [ ] Navigate to /ticket/123\n- [ ] Ticket data loads",
      "priority": "high",
      "tags": [
        "route",
        "detail"
      ]
    },
    {
      "id": "4278b95b-fb61-49a0-a93c-ed7e4b7c8e6d",
      "title": "76 - Create BackNavigation component",
      "passes": false,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "\"â† Back to Board\" link",
        "Navigates to previous board view",
        "Preserves board filters in URL",
        "Arrow icon + text",
        "Hover state",
        "Keyboard accessible"
      ],
      "references": [
        "src/components/navigation/BackNavigation.tsx"
      ],
      "description": "Create back navigation link for detail views.\n\n**Files to Create:**\n- `src/components/navigation/BackNavigation.tsx`\n\n**Acceptance Criteria:**\n- [ ] \"â† Back to Board\" link\n- [ ] Navigates to previous board view\n- [ ] Preserves board filters in URL\n- [ ] Arrow icon + text\n- [ ] Hover state\n- [ ] Keyboard accessible\n\n**Usage:**\n```tsx\n<BackNavigation label=\"Back to Board\" fallback=\"/\" />\n```\n\n**Tests:** Visual + navigation",
      "priority": "low",
      "tags": [
        "navigation",
        "component"
      ]
    },
    {
      "id": "558a73b6-665a-4644-ad09-8cd6c79abbfb",
      "title": "77 - Create TicketDetailHeader component",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Ticket title (large text)",
        "Status badge",
        "Priority badge",
        "Epic badge (if assigned)",
        "Edit button (opens EditTicketModal)",
        "Start Work button (opens LaunchActions)",
        "Git info (branch, PR)"
      ],
      "references": [
        "src/components/tickets/TicketDetailHeader.tsx"
      ],
      "description": "Create header section for ticket detail page.\n\n**Files to Create:**\n- `src/components/tickets/TicketDetailHeader.tsx`\n\n**Acceptance Criteria:**\n- [ ] Ticket title (large text)\n- [ ] Status badge\n- [ ] Priority badge\n- [ ] Epic badge (if assigned)\n- [ ] Edit button (opens EditTicketModal)\n- [ ] Start Work button (opens LaunchActions)\n- [ ] Git info (branch, PR)\n\n**Layout:**\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Implement user authentication              [Edit] [â–¶ Start] â”‚\nâ”‚ ğŸ”µ In Progress  ğŸ”´ High  ğŸ“ Auth Epic                       â”‚\nâ”‚ ğŸŒ¿ feature/auth  ğŸ”— PR #42                                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**Tests:** Visual inspection",
      "priority": "high",
      "tags": [
        "detail",
        "component"
      ]
    },
    {
      "id": "6a505a56-0c0a-4ef5-b019-2d41a42c5fd4",
      "title": "78 - Create TicketDescription component",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Renders markdown content",
        "Code blocks with syntax highlighting",
        "Links clickable",
        "Headers, lists, bold, italic",
        "Empty state: \"No description\"",
        "Edit inline button (optional)"
      ],
      "references": [
        "src/components/tickets/TicketDescription.tsx"
      ],
      "description": "Create formatted description section with markdown rendering.\n\n**Files to Create:**\n- `src/components/tickets/TicketDescription.tsx`\n\n**Acceptance Criteria:**\n- [ ] Renders markdown content\n- [ ] Code blocks with syntax highlighting\n- [ ] Links clickable\n- [ ] Headers, lists, bold, italic\n- [ ] Empty state: \"No description\"\n- [ ] Edit inline button (optional)\n\n**Markdown Features:**\n- Headers (h1-h6)\n- Bold, italic, strikethrough\n- Code blocks with language\n- Links (external open in new tab)\n- Bullet and numbered lists\n- Blockquotes\n\n**Tests:** Visual - paste markdown content",
      "priority": "medium",
      "tags": [
        "detail",
        "markdown"
      ]
    },
    {
      "id": "be1a09de-2c98-4730-bafb-a1bc6444569a",
      "title": "79 - Create SubtasksProgress component",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Progress bar showing completion percentage",
        "\"X of Y complete\" text",
        "Checklist of subtasks",
        "Click to toggle completion",
        "Add subtask inline",
        "Empty state: \"No subtasks\"",
        "Progress bar accurate",
        "Toggle updates database"
      ],
      "references": [
        "src/components/tickets/SubtasksProgress.tsx",
        "src/components/tickets/SubtasksProgress.test.tsx"
      ],
      "description": "Create subtasks section with progress bar and checklist.\n\n**Files to Create:**\n- `src/components/tickets/SubtasksProgress.tsx`\n- `src/components/tickets/SubtasksProgress.test.tsx`\n\n**Acceptance Criteria:**\n- [ ] Progress bar showing completion percentage\n- [ ] \"X of Y complete\" text\n- [ ] Checklist of subtasks\n- [ ] Click to toggle completion\n- [ ] Add subtask inline\n- [ ] Empty state: \"No subtasks\"\n\n**Layout:**\n```\nSubtasks\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 2/4 complete (50%)\n\nâ˜‘ Set up database schema\nâ˜‘ Create API endpoints  \nâ˜ Build UI components\nâ˜ Write tests\n\n[+ Add subtask]\n```\n\n**Tests:**\n- [ ] Progress bar accurate\n- [ ] Toggle updates database",
      "priority": "medium",
      "tags": [
        "detail",
        "component"
      ]
    },
    {
      "id": "446fa3d4-4141-4104-91d3-35be7f7e558a",
      "title": "80 - Create RelatedTickets panel",
      "passes": false,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Shows tickets from same epic",
        "Excludes current ticket",
        "Mini ticket cards (title, status)",
        "Click navigates to that ticket",
        "Empty state if no epic or no other tickets",
        "Max 5 shown, \"View all\" link"
      ],
      "references": [
        "src/components/tickets/RelatedTickets.tsx"
      ],
      "description": "Create panel showing other tickets in the same epic.\n\n**Files to Create:**\n- `src/components/tickets/RelatedTickets.tsx`\n\n**Acceptance Criteria:**\n- [ ] Shows tickets from same epic\n- [ ] Excludes current ticket\n- [ ] Mini ticket cards (title, status)\n- [ ] Click navigates to that ticket\n- [ ] Empty state if no epic or no other tickets\n- [ ] Max 5 shown, \"View all\" link\n\n**Layout:**\n```\nRelated Tickets (in Auth Epic)\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ ğŸ”µ Set up OAuth providers  â”‚\nâ”‚ ğŸŸ¢ Add password reset     â”‚\nâ”‚ âšª Implement 2FA          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nView all 8 tickets in epic â†’\n```\n\n**Tests:** Visual inspection",
      "priority": "low",
      "tags": [
        "detail",
        "component"
      ]
    },
    {
      "id": "69c5407c-4c57-48f2-9182-ba25ed872765",
      "title": "81 - Integrate full activity timeline in detail view",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Reuse ActivitySection component",
        "No max-height (full timeline visible)",
        "Scrollable within page layout",
        "All comments visible",
        "Comment input at bottom"
      ],
      "references": [
        "src/routes/ticket.$id.tsx"
      ],
      "description": "Reuse ActivitySection in detail view without height limit.\n\n**Files to Modify:**\n- `src/routes/ticket.$id.tsx`\n\n**Acceptance Criteria:**\n- [ ] Reuse ActivitySection component\n- [ ] No max-height (full timeline visible)\n- [ ] Scrollable within page layout\n- [ ] All comments visible\n- [ ] Comment input at bottom\n\n**Implementation:**\n```tsx\n// In ticket detail page\n<ActivitySection \n  ticketId={ticket.id} \n  maxHeight=\"none\"  // Full height in detail view\n/>\n```\n\n**Tests:** Visual - scroll full timeline",
      "priority": "medium",
      "tags": [
        "detail",
        "activity"
      ]
    },
    {
      "id": "b2e2ab03-8078-4956-80bc-014c42808363",
      "title": "82 - Create CreateProjectModal",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Name input (required)",
        "Path input with browse button",
        "Color picker",
        "Validates path exists",
        "Creates project via mutation",
        "Shows in projects panel after create",
        "Create project",
        "Appears in panel"
      ],
      "references": [
        "src/components/projects/CreateProjectModal.tsx"
      ],
      "description": "Create modal for adding new projects.\n\n**Files to Create:**\n- `src/components/projects/CreateProjectModal.tsx`\n\n**Acceptance Criteria:**\n- [ ] Name input (required)\n- [ ] Path input with browse button\n- [ ] Color picker\n- [ ] Validates path exists\n- [ ] Creates project via mutation\n- [ ] Shows in projects panel after create\n\n**Layout:**\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ [ğŸ“] Add New Project                                     [Ã—] â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Project Name *                                               â”‚\nâ”‚ [_________________________________________________]          â”‚\nâ”‚                                                              â”‚\nâ”‚ Path *                                                       â”‚\nâ”‚ [/Users/me/code/my-project___________] [Browse]              â”‚\nâ”‚                                                              â”‚\nâ”‚ Color                                                        â”‚\nâ”‚ [ğŸŸ£] [ğŸ”µ] [ğŸŸ¢] [ğŸŸ¡] [ğŸŸ ] [ğŸ”´]                                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                               [Cancel]  [Create Project]     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**E2E Tests:**\n- [ ] Create project\n- [ ] Appears in panel",
      "priority": "high",
      "tags": [
        "modal",
        "project"
      ]
    },
    {
      "id": "dac4013c-44ae-4b15-8d4a-905f0e46e207",
      "title": "83 - Create EditProjectModal",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Extends CreateProjectModal",
        "Loads existing project data",
        "Working method selector",
        "Delete button with confirmation",
        "Preview section (ticket stats)",
        "Opens on double-click from ProjectItem",
        "Edit project name",
        "Delete project"
      ],
      "references": [
        "src/components/projects/EditProjectModal.tsx"
      ],
      "description": "Create modal for editing existing projects.\n\n**Files to Create:**\n- `src/components/projects/EditProjectModal.tsx`\n\n**Acceptance Criteria:**\n- [ ] Extends CreateProjectModal\n- [ ] Loads existing project data\n- [ ] Working method selector\n- [ ] Delete button with confirmation\n- [ ] Preview section (ticket stats)\n- [ ] Opens on double-click from ProjectItem\n\n**Additional Fields:**\n- Working method (Claude/OpenCode/VS Code/Cursor)\n- Preview: ticket count, active tickets\n- Delete with confirmation\n\n**E2E Tests:**\n- [ ] Edit project name\n- [ ] Delete project",
      "priority": "medium",
      "tags": [
        "modal",
        "project"
      ]
    },
    {
      "id": "2faf1fbf-1352-4106-8712-11d19ba7ff80",
      "title": "84 - Create ColorPicker component",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Preset color swatches (8-10 colors)",
        "Selected color shown in button",
        "Click opens dropdown",
        "Click swatch selects color",
        "Keyboard accessible",
        "Returns hex color value"
      ],
      "references": [
        "src/components/ui/ColorPicker.tsx"
      ],
      "description": "Create color picker dropdown for projects and epics.\n\n**Files to Create:**\n- `src/components/ui/ColorPicker.tsx`\n\n**Acceptance Criteria:**\n- [ ] Preset color swatches (8-10 colors)\n- [ ] Selected color shown in button\n- [ ] Click opens dropdown\n- [ ] Click swatch selects color\n- [ ] Keyboard accessible\n- [ ] Returns hex color value\n\n**Colors:**\n```tsx\nconst presetColors = [\n  '#8b5cf6', // Purple\n  '#3b82f6', // Blue\n  '#10b981', // Green\n  '#eab308', // Yellow\n  '#f97316', // Orange\n  '#ef4444', // Red\n  '#ec4899', // Pink\n  '#6366f1', // Indigo\n  '#14b8a6', // Teal\n  '#6b7280', // Gray\n];\n```\n\n**Tests:** Visual inspection",
      "priority": "low",
      "tags": [
        "component",
        "ui"
      ]
    },
    {
      "id": "30407746-2a81-4aff-84c8-3113bedf56e8",
      "title": "85 - Create WorkingMethodSelect component",
      "passes": false,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Dropdown with 4 options",
        "Icon + name per option",
        "Description text",
        "Saves to project settings",
        "Used in EditProjectModal"
      ],
      "references": [
        "src/components/projects/WorkingMethodSelect.tsx"
      ],
      "description": "Create selector for project working method preference.\n\n**Files to Create:**\n- `src/components/projects/WorkingMethodSelect.tsx`\n\n**Acceptance Criteria:**\n- [ ] Dropdown with 4 options\n- [ ] Icon + name per option\n- [ ] Description text\n- [ ] Saves to project settings\n- [ ] Used in EditProjectModal\n\n**Options:**\n```tsx\nconst workingMethods = [\n  { value: 'auto', label: 'Auto-detect', icon: Wand, desc: 'Detect from environment' },\n  { value: 'claude-code', label: 'Claude Code', icon: Sparkles, desc: 'Anthropic CLI' },\n  { value: 'vscode', label: 'VS Code', icon: Code, desc: 'VS Code + MCP' },\n  { value: 'cursor', label: 'Cursor', icon: MousePointer, desc: 'Cursor IDE' },\n];\n```\n\n**Tests:** Visual inspection",
      "priority": "low",
      "tags": [
        "component",
        "project"
      ]
    },
    {
      "id": "bc59e180-9a55-400d-8c65-1332b70a284f",
      "title": "86 - Create CreateEpicModal",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Title input (required)",
        "Description textarea (optional)",
        "Color picker",
        "Project context (from where opened)",
        "Creates epic via mutation",
        "Available from EpicSelect dropdown",
        "Create epic",
        "Available in EpicSelect"
      ],
      "references": [
        "src/components/epics/CreateEpicModal.tsx"
      ],
      "description": "Create modal for creating new epics within a project.\n\n**Files to Create:**\n- `src/components/epics/CreateEpicModal.tsx`\n\n**Acceptance Criteria:**\n- [ ] Title input (required)\n- [ ] Description textarea (optional)\n- [ ] Color picker\n- [ ] Project context (from where opened)\n- [ ] Creates epic via mutation\n- [ ] Available from EpicSelect dropdown\n\n**Layout:**\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ [ğŸ“‹] Create New Epic                                     [Ã—] â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Epic Title *                                                 â”‚\nâ”‚ [_________________________________________________]          â”‚\nâ”‚                                                              â”‚\nâ”‚ Description                                                  â”‚\nâ”‚ [_________________________________________________]          â”‚\nâ”‚ [_________________________________________________]          â”‚\nâ”‚                                                              â”‚\nâ”‚ Color                                                        â”‚\nâ”‚ [ğŸŸ£] [ğŸ”µ] [ğŸŸ¢] [ğŸŸ¡] [ğŸŸ ] [ğŸ”´]                                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                               [Cancel]  [Create Epic]        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**E2E Tests:**\n- [ ] Create epic\n- [ ] Available in EpicSelect",
      "priority": "medium",
      "tags": [
        "modal",
        "epic"
      ]
    },
    {
      "id": "2d316dd7-b383-416e-bf01-dd80c987d441",
      "title": "87 - Add \"Create New Epic\" option to EpicSelect dropdown",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "\"Create New Epic\" option at bottom of dropdown",
        "Separated by divider",
        "Plus icon",
        "Click opens CreateEpicModal",
        "After create, new epic auto-selected",
        "Click Create â†’ modal opens",
        "Create epic â†’ auto-selected"
      ],
      "references": [
        "src/components/tickets/EpicSelect.tsx"
      ],
      "description": "Add inline create option in the epic dropdown.\n\n**Files to Modify:**\n- `src/components/tickets/EpicSelect.tsx`\n\n**Acceptance Criteria:**\n- [ ] \"Create New Epic\" option at bottom of dropdown\n- [ ] Separated by divider\n- [ ] Plus icon\n- [ ] Click opens CreateEpicModal\n- [ ] After create, new epic auto-selected\n\n**Dropdown Layout:**\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ âšª No Epic              â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ ğŸŸ£ Authentication       â”‚\nâ”‚ ğŸ”µ UI Overhaul         â”‚\nâ”‚ ğŸŸ¢ Performance         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ + Create New Epic       â”‚  <- New option\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**Manual Tests:**\n- [ ] Click Create â†’ modal opens\n- [ ] Create epic â†’ auto-selected",
      "priority": "low",
      "tags": [
        "component",
        "epic"
      ]
    },
    {
      "id": "1b3acd88-e4b2-4b19-a17f-ffc79e2c73c0",
      "title": "88 - Create InceptionModal",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "Hero section with rocket icon",
        "AI explanation text",
        "\"Start with AI\" primary action",
        "\"Skip AI\" secondary link",
        "Launches Claude with inception prompt",
        "Accessible from NewTicketDropdown"
      ],
      "references": [
        "src/components/inception/InceptionModal.tsx"
      ],
      "description": "Create the \"Start from Scratch\" inception modal for AI-guided project creation.\n\n**Files to Create:**\n- `src/components/inception/InceptionModal.tsx`\n\n**Acceptance Criteria:**\n- [ ] Hero section with rocket icon\n- [ ] AI explanation text\n- [ ] \"Start with AI\" primary action\n- [ ] \"Skip AI\" secondary link\n- [ ] Launches Claude with inception prompt\n- [ ] Accessible from NewTicketDropdown\n\n**Layout:**\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ [ğŸš€] Start from Scratch                                  [Ã—] â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                              â”‚\nâ”‚           ğŸš€                                                 â”‚\nâ”‚     Start Something New                                      â”‚\nâ”‚                                                              â”‚\nâ”‚  Let AI help you brainstorm and plan your next project.     â”‚\nâ”‚  Claude will interview you about your idea and create       â”‚\nâ”‚  a structured spec with epics and tickets.                   â”‚\nâ”‚                                                              â”‚\nâ”‚            [ ğŸ¤– Start with Claude ]                          â”‚\nâ”‚                                                              â”‚\nâ”‚        or skip AI and create manually                       â”‚\nâ”‚                                                              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**Tests:** Visual + launch test",
      "priority": "medium",
      "tags": [
        "modal",
        "inception"
      ]
    },
    {
      "id": "ed94c61c-2e75-4da2-b9ea-3fda38b608e2",
      "title": "89 - Add Skip AI link to InceptionModal",
      "passes": false,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "\"skip AI and create manually\" link below main CTA",
        "Subtle styling (gray, smaller text)",
        "Click closes InceptionModal",
        "Opens CreateProjectModal instead",
        "Keyboard accessible",
        "Click link",
        "CreateProjectModal opens"
      ],
      "references": [
        "src/components/inception/InceptionModal.tsx"
      ],
      "description": "Add link to skip AI and go directly to manual project creation.\n\n**Files to Modify:**\n- `src/components/inception/InceptionModal.tsx`\n\n**Acceptance Criteria:**\n- [ ] \"skip AI and create manually\" link below main CTA\n- [ ] Subtle styling (gray, smaller text)\n- [ ] Click closes InceptionModal\n- [ ] Opens CreateProjectModal instead\n- [ ] Keyboard accessible\n\n**Implementation:**\n```tsx\n<button\n  onClick={() => {\n    closeInceptionModal();\n    openCreateProjectModal();\n  }}\n  className=\"text-sm text-text-secondary hover:text-text-primary\"\n>\n  or skip AI and create manually\n</button>\n```\n\n**Manual Tests:**\n- [ ] Click link\n- [ ] CreateProjectModal opens",
      "priority": "low",
      "tags": [
        "modal",
        "inception"
      ]
    },
    {
      "id": "551b1146-1140-47fc-adeb-2b607c4ddb52",
      "title": "90 - Wire InceptionModal to NewTicketDropdown",
      "passes": true,
      "overview": "",
      "types": [],
      "designDecisions": [],
      "implementationGuide": [],
      "acceptanceCriteria": [
        "\"Start from Scratch\" option opens InceptionModal",
        "\"New Ticket\" option opens CreateTicketModal",
        "Modals managed via useModal hooks",
        "Dropdown closes when modal opens",
        "Click \"Start from Scratch\"",
        "InceptionModal opens",
        "Can proceed to Claude"
      ],
      "references": [
        "src/components/navigation/NewTicketDropdown.tsx"
      ],
      "description": "Connect the \"Start from Scratch\" option to open InceptionModal.\n\n**Files to Modify:**\n- `src/components/navigation/NewTicketDropdown.tsx`\n\n**Acceptance Criteria:**\n- [ ] \"Start from Scratch\" option opens InceptionModal\n- [ ] \"New Ticket\" option opens CreateTicketModal\n- [ ] Modals managed via useModal hooks\n- [ ] Dropdown closes when modal opens\n\n**Implementation:**\n```tsx\nconst { isOpen: isInceptionOpen, open: openInception } = useModal();\nconst { isOpen: isCreateTicketOpen, open: openCreateTicket } = useModal();\n\n// In dropdown options\n{ label: 'New Ticket', onClick: openCreateTicket },\n{ label: 'Start from Scratch', onClick: openInception },\n```\n\n**E2E Tests:**\n- [ ] Click \"Start from Scratch\"\n- [ ] InceptionModal opens\n- [ ] Can proceed to Claude",
      "priority": "medium",
      "tags": [
        "integration",
        "inception"
      ]
    }
  ],
  "projectContext": {
    "techStack": [
      "Framework: TanStack Start (React 19 + Vite + Nitro)",
      "Database: SQLite with better-sqlite3, Drizzle ORM",
      "Styling: Tailwind CSS v4",
      "State: TanStack Query for server state",
      "Drag & Drop: @dnd-kit"
    ],
    "dosDonts": [
      {
        "category": "Database Queries",
        "dos": [
          "Use Drizzle ORM: `db.select().from(tickets)`",
          "Use typed schema imports: `import { tickets } from \"../lib/schema\"`",
          "Use `eq()`, `and()`, `sql` from drizzle-orm for conditions",
          "Use transactions for multi-table operations: `db.transaction(() => {...})`",
          "Use `.get()` for single row, `.all()` for multiple"
        ],
        "donts": [
          "Raw SQL strings: `db.run(\"SELECT * FROM tickets\")`",
          "String-based table names",
          "String concatenation for WHERE clauses",
          "Multiple independent queries that should be atomic",
          "Assume query returns what you expect without checking"
        ]
      },
      {
        "category": "React & TanStack Query",
        "dos": [
          "Use `useQuery` with `queryKeys` for data fetching",
          "Use `useMutation` with `onSuccess` for state changes",
          "Invalidate queries after mutations: `queryClient.invalidateQueries({ queryKey: queryKeys.tickets })`",
          "Use centralized `queryKeys` object from `src/lib/hooks.ts`",
          "Create custom hooks in `src/lib/hooks.ts` for reusable query logic"
        ],
        "donts": [
          "`useState` + `useEffect` for fetched data",
          "Direct API calls without proper cache invalidation",
          "Manual cache manipulation or refetch after every change",
          "Hardcoded query key strings throughout components",
          "Duplicate query setup in multiple components"
        ]
      },
      {
        "category": "Server Functions",
        "dos": [
          "Use `createServerFn({ method: \"GET\" })` for reads, `\"POST\"` for writes",
          "Use `.inputValidator()` for type-safe input handling",
          "Return typed data directly: `return db.select().from(tickets).all()`",
          "Use `ensureExists()` for required lookups: `ensureExists(project, \"Project\")`",
          "Import from `@tanstack/react-start` (not `@tanstack/react-start/server`)"
        ],
        "donts": [
          "Mix GET/POST inconsistently",
          "Access raw input without validation",
          "Wrap in unnecessary response objects",
          "Return null and let caller handle missing data",
          "Wrong import path"
        ]
      },
      {
        "category": "MCP Tool Implementation",
        "dos": [
          "Use Zod schemas for input validation: `{ ticketId: z.string() }`",
          "Return structured `{ content: [{ type: \"text\", text: ... }] }` format",
          "Set `isError: true` for error responses",
          "Use `log.info()` / `log.error()` from `../lib/logging.js`",
          "Include helpful error messages: `\"Project not found. Use list_projects to see available.\"`"
        ],
        "donts": [
          "Trust input without validation",
          "Return plain strings",
          "Return error text without the error flag",
          "`console.log` in MCP server code",
          "Generic \"Not found\" errors"
        ]
      },
      {
        "category": "Testing Patterns (Kent C. Dodds)",
        "dos": [
          "Test user behavior: what users see, click, and experience",
          "Integration tests for workflows: test components together",
          "Real database fixtures with actual schema",
          "Tests that fail when user-facing behavior breaks",
          "Ask: \"Does this test catch bugs users would encounter?\""
        ],
        "donts": [
          "Test implementation details, internal state, or private methods",
          "Unit tests for every function",
          "Excessive mocking of internals",
          "Tests that break on refactoring internals",
          "Chase 100% code coverage as a goal"
        ]
      }
    ],
    "verificationSteps": [
      "Run `pnpm type-check` - must pass with no errors",
      "Run `pnpm lint` - must pass with no errors",
      "Run `pnpm test` - all tests must pass",
      "Added tests for new functionality (ONLY tests that verify real user behavior - see Testing Philosophy above)",
      "Used typed error classes (not generic `Error`)",
      "Used Drizzle ORM (not raw SQL) - see DO/DON'T table above",
      "Followed existing patterns from DO/DON'T tables",
      "No hardcoded values that should be configurable",
      "Existing tests still pass",
      "No regressions in related functionality",
      "Updated tests if behavior changed",
      "Did not break backward compatibility (unless explicitly requested)",
      "Manually verified in browser at `localhost:4242`",
      "Checked responsive layout",
      "Verified TanStack Query invalidates and updates correctly",
      "Accessibility: keyboard navigation works, proper ARIA labels",
      "Migration file created via `pnpm db:generate`",
      "Migration tested with `pnpm db:migrate`",
      "Backup tested if schema changed (use `pnpm brain-dump backup` then test restore)",
      "Updated `src/lib/schema.ts` with proper types and constraints",
      "Tested tool via Claude Code integration",
      "Verified error responses are informative (see DO/DON'T table)",
      "Updated tool documentation if interface changed",
      "Added Zod schema for input validation",
      "All acceptance criteria from ticket met",
      "Work summary added via `add_ticket_comment` (for Ralph sessions)",
      "Session completed with appropriate outcome (for Ralph sessions)",
      "Committed with proper message format: `feat(<ticket-id>): <description>`"
    ]
  },
  "generatedAt": "2026-01-21T06:48:03.103Z",
  "epicTitle": "UI v2 Sprint 5: Detail Views & Project Flows",
  "epicDescription": "Implement ticket detail panel, project creation/settings, epic management, and search/filter functionality with full-text search integration."
}
